flat is better than nested